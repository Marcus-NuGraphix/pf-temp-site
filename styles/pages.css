/* ============================================================
   PAGES â€” Layout rules for home, privacy, and delete pages
   ============================================================ */

.home-main {
  padding-block: var(--space-8) var(--space-9);
}

body.home-page {
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

body.home-page .home-main {
  flex: 1;
  display: flex;
  align-items: center;
  padding-block: clamp(var(--space-4), 3.4vh, var(--space-7)) clamp(var(--space-3), 2.6vh, var(--space-5));
}

.home-splash {
  min-height: 0;
  display: grid;
  align-items: center;
}

.home-splash-card {
  position: relative;
  overflow: hidden;
}

.home-splash-card::after {
  content: "";
  position: absolute;
  top: clamp(var(--space-3), 2vw, var(--space-6));
  right: clamp(var(--space-3), 2vw, var(--space-6));
  width: clamp(8rem, 17vw, 13rem);
  aspect-ratio: 1 / 1;
  background: url("/assets/png/Portuguese%20Forum%20Logo.png") center / contain no-repeat;
  opacity: 0.26;
  transform: rotate(8deg);
  pointer-events: none;
  mix-blend-mode: multiply;
  filter: saturate(1.2) contrast(1.08);
}

.home-splash-inner {
  display: grid;
  justify-items: center;
  text-align: center;
  gap: var(--space-4);
  max-width: 42rem;
  margin-inline: auto;
  animation: rise-in var(--duration-base) var(--ease-standard) both;
}

.home-splash-logo {
  width: clamp(4rem, 11vw, 6rem);
  aspect-ratio: 1 / 1;
  object-fit: contain;
}

.home-splash-title {
  max-width: 16ch;
  color: var(--color-hero-ink);
}

.home-splash-lead {
  max-width: 54ch;
  color: var(--color-text-muted);
}

.home-legacy-mark {
  position: absolute;
  left: clamp(-7rem, -5vw, -3.5rem);
  bottom: clamp(-9rem, -6vw, -5rem);
  width: clamp(20rem, 44vw, 34rem);
  z-index: 0;
  pointer-events: none;
  user-select: none;
  opacity: 0.3;
  transform: rotate(-13deg);
  mix-blend-mode: multiply;
  filter: saturate(1.2) contrast(1.08);
  mask-image: radial-gradient(circle at 50% 44%, #000 0 66%, transparent 92%);
}

:root[data-theme="dark"] .home-splash-card::after,
:root[data-theme="dark"] .home-legacy-mark {
  mix-blend-mode: screen;
}

:root[data-theme="dark"] .home-splash-card::after {
  opacity: 0.24;
}

:root[data-theme="dark"] .home-legacy-mark {
  opacity: 0.24;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .home-splash-card::after,
  :root:not([data-theme="light"]) .home-legacy-mark {
    mix-blend-mode: screen;
  }

  :root:not([data-theme="light"]) .home-splash-card::after {
    opacity: 0.24;
  }

  :root:not([data-theme="light"]) .home-legacy-mark {
    opacity: 0.24;
  }
}

body.home-page .site-footer-home {
  margin-top: 0;
  padding-block: var(--space-4) var(--space-3);
}

body.home-page .site-footer-home::before {
  margin-bottom: var(--space-4);
}

body.home-page .site-footer-home .footer-grid {
  gap: var(--space-4);
}

body.home-page .site-footer-home .footer-block {
  gap: var(--space-2);
}

body.home-page .site-footer-home .footer-links {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1) var(--space-3);
  font-size: var(--step--2);
}

body.home-page .site-footer-home .footer-links li + li {
  margin-top: 0;
}

body.home-page .site-footer-home .footer-note {
  margin-top: var(--space-4);
  padding-top: var(--space-3);
}

body.home-page .home-splash .button {
  min-height: 2.6rem;
}

.content-main {
  padding-block: var(--space-8) var(--space-10);
}

.editorial-intro {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  background:
    linear-gradient(135deg, color-mix(in srgb, var(--brand-ink) 8%, var(--color-surface)), var(--color-surface));
  box-shadow: var(--shadow-card);
  padding: clamp(var(--space-6), 3vw, var(--space-8));
  display: grid;
  gap: var(--space-3);
  margin-bottom: var(--space-7);
}

.editorial-intro h1 {
  max-width: 18ch;
}

.editorial-lead {
  max-width: 58ch;
  font-size: var(--step-1);
  color: var(--color-text-muted);
}

.meta-line {
  font-size: var(--step--1);
  color: var(--color-text-muted);
}

.policy-shell {
  display: grid;
  grid-template-columns: minmax(14rem, 18rem) minmax(0, 1fr);
  gap: var(--space-6);
  align-items: start;
}

.policy-aside {
  position: sticky;
  top: calc(var(--space-5) + 4.5rem);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  background: var(--color-surface);
  box-shadow: var(--shadow-soft);
  padding: var(--space-4);
}

.policy-aside p {
  font-size: var(--step--2);
  letter-spacing: var(--ls-eyebrow);
  text-transform: uppercase;
  color: var(--color-text-muted);
  font-weight: 600;
}

.policy-toc {
  margin-top: var(--space-3);
  padding-left: 1rem;
  display: grid;
  gap: var(--space-2);
}

.policy-toc a {
  text-decoration: none;
  color: var(--color-text-muted);
  font-size: var(--step--2);
  line-height: 1.45;
}

.policy-toc a:hover,
.policy-toc a:focus-visible,
.policy-toc a[aria-current="true"] {
  color: var(--color-link);
}

.policy-article {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  background: var(--color-surface);
  box-shadow: var(--shadow-card);
}

.policy-content {
  position: relative;
  z-index: 1;
  padding: clamp(var(--space-5), 2.5vw, var(--space-7));
  max-width: var(--reading-max);
}

.policy-content h2,
.policy-content h3 {
  margin-top: var(--space-7);
  margin-bottom: var(--space-3);
}

.policy-content h2:first-child {
  margin-top: 0;
}

.policy-content p + p,
.policy-content p + ul,
.policy-content p + ol,
.policy-content ul + p,
.policy-content ol + p,
.policy-content ul + ul,
.policy-content ol + ol,
.policy-content ul + ol,
.policy-content ol + ul {
  margin-top: var(--space-3);
}

.policy-content a {
  color: var(--color-link);
}

.delete-shell {
  display: grid;
  grid-template-columns: minmax(0, 1.3fr) minmax(16rem, 0.7fr);
  gap: var(--space-5);
  align-items: start;
}

.delete-side {
  display: grid;
  gap: var(--space-4);
}

.delete-side .panel-inner {
  display: grid;
  gap: var(--space-3);
}

.delete-side h2 {
  font-size: var(--step-0);
}

.delete-side ul,
.delete-side p {
  font-size: var(--step--1);
  color: var(--color-text-muted);
}

@keyframes rise-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 64rem) {
  .policy-shell,
  .delete-shell {
    grid-template-columns: 1fr;
  }

  .policy-aside {
    position: static;
  }
}

@media (max-width: 44rem) {
  .home-main,
  .content-main {
    padding-block: var(--space-7) var(--space-9);
  }

  body.home-page .home-main {
    padding-block: var(--space-4) var(--space-3);
  }

  .home-splash {
    min-height: auto;
  }

  body.home-page .site-footer-home .footer-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--space-2);
  }

  body.home-page .site-footer-home .footer-label {
    font-size: 0.66rem;
  }

  body.home-page .site-footer-home .footer-links {
    font-size: 0.68rem;
    gap: 0.12rem 0.38rem;
  }

  body.home-page .site-footer-home .footer-note {
    margin-top: var(--space-3);
    font-size: 0.68rem;
  }

  body.home-page .site-footer-home .theme-toggle {
    min-height: 2rem;
    padding: 0.25rem 0.55rem;
    font-size: 0.68rem;
  }

  .editorial-intro {
    margin-bottom: var(--space-6);
  }

  .home-splash-card::after {
    width: clamp(6.5rem, 24vw, 10rem);
    opacity: 0.22;
  }

  .home-legacy-mark {
    width: clamp(13rem, 44vw, 18rem);
    left: -4.2rem;
    bottom: -4.7rem;
    opacity: 0.24;
  }
}
